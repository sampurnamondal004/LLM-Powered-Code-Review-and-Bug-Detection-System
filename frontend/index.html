<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LLM Code Review</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    textarea { width: 100%; height: 150px; }
    button { margin-top: 10px; padding: 10px; }
    pre { background: #111; color: #0f0; padding: 10px; }
  </style>
</head>
<body>

  <h2>LLM Code Review System</h2>

  <label>Language:</label>
  <select id="language">
    <option value="python">Python</option>
    <option value="cpp">C++</option>
    <option value="java">Java</option>
  </select>

  <br><br>

  <label>Code:</label>
  <textarea id="code" placeholder="Paste your code here..."></textarea>

  <br>
  <button onclick="reviewCode()">Review Code</button>

  <h3>AI Review Output:</h3>
  <pre id="output">Waiting for review...</pre>

  <script>
    async function reviewCode() {
      const code = document.getElementById("code").value;
      const language = document.getElementById("language").value;

      document.getElementById("output").textContent = "Reviewing...";

      try {
        const response = await fetch(
          "https://llm-powered-code-review-and-bug-det.vercel.app/review",
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({ code, language })
          }
        );

        const data = await response.json();
        document.getElementById("output").textContent = data.ai_review;

      } catch (err) {
        document.getElementById("output").textContent =
          "Error connecting to backend";
      }
    }
  </script>

</body>
</html>
